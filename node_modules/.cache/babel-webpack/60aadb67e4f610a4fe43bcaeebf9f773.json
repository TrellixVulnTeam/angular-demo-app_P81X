{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../../modules/auth\";\nimport * as i2 from \"../../../../../../modules/i18n\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction UserInnerComponent_ng_container_0_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function UserInnerComponent_ng_container_0_div_22_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const l_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.selectLanguage(l_r3.lang);\n    });\n    i0.ɵɵelementStart(1, \"a\", 20);\n    i0.ɵɵelementStart(2, \"span\", 21);\n    i0.ɵɵelement(3, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const l_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", l_r3.lang === ctx_r2.language.lang ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", l_r3.flag, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", l_r3.name, \" \");\n  }\n}\n\nfunction UserInnerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"div\", 8);\n    i0.ɵɵelementStart(11, \"div\", 9);\n    i0.ɵɵelementStart(12, \"a\", 10);\n    i0.ɵɵtext(13, \" My Profile \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 11);\n    i0.ɵɵelementStart(15, \"a\", 12);\n    i0.ɵɵelementStart(16, \"span\", 13);\n    i0.ɵɵtext(17, \" Language \");\n    i0.ɵɵelementStart(18, \"span\", 14);\n    i0.ɵɵtext(19);\n    i0.ɵɵelement(20, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 16);\n    i0.ɵɵtemplate(22, UserInnerComponent_ng_container_0_div_22_Template, 5, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"div\", 8);\n    i0.ɵɵelementStart(24, \"div\", 9);\n    i0.ɵɵelementStart(25, \"a\", 18);\n    i0.ɵɵlistener(\"click\", function UserInnerComponent_ng_container_0_Template_a_click_25_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.logout();\n    });\n    i0.ɵɵtext(26, \" Sign Out \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _user_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", _user_r1.pic, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", _user_r1.firstname, \" \", _user_r1.lastname, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", _user_r1.email, \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.language.name, \"\", \" \", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.language.flag, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.langs);\n  }\n}\n\nexport class UserInnerComponent {\n  constructor(auth, translationService) {\n    this.auth = auth;\n    this.translationService = translationService;\n    this.class = `menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px`;\n    this.dataKtMenu = 'true';\n    this.langs = languages;\n    this.unsubscribe = [];\n  }\n\n  ngOnInit() {\n    this.user$ = this.auth.currentUserSubject.asObservable();\n    this.setLanguage(this.translationService.getSelectedLanguage());\n  }\n\n  logout() {\n    this.auth.logout();\n    document.location.reload();\n  }\n\n  selectLanguage(lang) {\n    this.translationService.setLanguage(lang);\n    this.setLanguage(lang); // document.location.reload();\n  }\n\n  setLanguage(lang) {\n    this.langs.forEach(language => {\n      if (language.lang === lang) {\n        language.active = true;\n        this.language = language;\n      } else {\n        language.active = false;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach(sb => sb.unsubscribe());\n  }\n\n}\n\nUserInnerComponent.ɵfac = function UserInnerComponent_Factory(t) {\n  return new (t || UserInnerComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.TranslationService));\n};\n\nUserInnerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserInnerComponent,\n  selectors: [[\"app-user-inner\"]],\n  hostVars: 3,\n  hostBindings: function UserInnerComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵattribute(\"data-kt-menu\", ctx.dataKtMenu);\n      i0.ɵɵclassMap(ctx.class);\n    }\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"menu-item\", \"px-3\"], [1, \"menu-content\", \"d-flex\", \"align-items-center\", \"px-3\"], [1, \"symbol\", \"symbol-50px\", \"me-5\"], [\"alt\", \"Logo\", 3, \"src\"], [1, \"d-flex\", \"flex-column\"], [1, \"fw-bolder\", \"d-flex\", \"align-items-center\", \"fs-5\"], [1, \"fw-bold\", \"text-muted\", \"text-hover-primary\", \"fs-7\", \"cursor-pointer\"], [1, \"separator\", \"my-2\"], [1, \"menu-item\", \"px-5\"], [\"routerLink\", \"/pages/profile\", 1, \"menu-link\", \"px-5\"], [\"data-kt-menu-trigger\", \"hover\", \"data-kt-menu-placement\", \"left-start\", \"data-kt-menu-flip\", \"bottom\", 1, \"menu-item\", \"px-5\"], [1, \"menu-link\", \"px-5\", \"cursor-pointer\"], [1, \"menu-title\", \"position-relative\"], [1, \"fs-8\", \"rounded\", \"bg-light\", \"px-3\", \"py-2\", \"position-absolute\", \"translate-middle-y\", \"top-50\", \"end-0\"], [\"alt\", \"AngularApp\", 1, \"w-15px\", \"h-15px\", \"rounded-1\", \"ms-2\", 3, \"src\"], [1, \"menu-sub\", \"menu-sub-dropdown\", \"w-175px\", \"py-4\"], [\"class\", \"menu-item px-3 cursor-pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"menu-link\", \"px-5\", \"cursor-pointer\", 3, \"click\"], [1, \"menu-item\", \"px-3\", \"cursor-pointer\", 3, \"click\"], [1, \"menu-link\", \"d-flex\", \"px-5\", 3, \"ngClass\"], [1, \"symbol\", \"symbol-20px\", \"me-4\"], [\"alt\", \"AngularApp\", 1, \"rounded-1\", 3, \"src\"]],\n  template: function UserInnerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UserInnerComponent_ng_container_0_Template, 27, 8, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.user$));\n    }\n  },\n  directives: [i3.NgIf, i4.RouterLinkWithHref, i3.NgForOf, i3.NgClass],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2\n});\nconst languages = [{\n  lang: 'en',\n  name: 'English',\n  flag: './assets/media/flags/united-states.svg'\n}, {\n  lang: 'id',\n  name: 'Indonesian',\n  flag: './assets/media/flags/indonesia.svg'\n} // {\n//   lang: 'zh',\n//   name: 'Mandarin',\n//   flag: './assets/media/flags/china.svg',\n// },\n// {\n//   lang: 'ja',\n//   name: 'Japanese',\n//   flag: './assets/media/flags/japan.svg',\n// },\n// {\n//   lang: 'de',\n//   name: 'German',\n//   flag: './assets/media/flags/germany.svg',\n// },\n// {\n//   lang: 'es',\n//   name: 'Spanish',\n//   flag: './assets/media/flags/spain.svg',\n// },\n// {\n//   lang: 'fr',\n//   name: 'French',\n//   flag: './assets/media/flags/france.svg',\n// },\n];","map":{"version":3,"sources":["/home/chandrayana/Documents/Projects/Other/Github/angular-demo-app/src/app/layouts/partials/layout/extras/dropdown-inner/user-inner/user-inner.component.ts","/home/chandrayana/Documents/Projects/Other/Github/angular-demo-app/src/app/layouts/partials/layout/extras/dropdown-inner/user-inner/user-inner.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { TranslationService } from '../../../../../../modules/i18n';\r\nimport { AuthService, UserType } from '../../../../../../modules/auth';\r\n\r\n@Component({\r\n  selector: 'app-user-inner',\r\n  templateUrl: './user-inner.component.html',\r\n})\r\nexport class UserInnerComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class')\r\n  class = `menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px`;\r\n  @HostBinding('attr.data-kt-menu') dataKtMenu = 'true';\r\n\r\n  language: LanguageFlag;\r\n  user$: Observable<UserType>;\r\n  langs = languages;\r\n  private unsubscribe: Subscription[] = [];\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private translationService: TranslationService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.user$ = this.auth.currentUserSubject.asObservable();\r\n    this.setLanguage(this.translationService.getSelectedLanguage());\r\n  }\r\n\r\n  logout() {\r\n    this.auth.logout();\r\n    document.location.reload();\r\n  }\r\n\r\n  selectLanguage(lang: string) {\r\n    this.translationService.setLanguage(lang);\r\n    this.setLanguage(lang);\r\n    // document.location.reload();\r\n  }\r\n\r\n  setLanguage(lang: string) {\r\n    this.langs.forEach((language: LanguageFlag) => {\r\n      if (language.lang === lang) {\r\n        language.active = true;\r\n        this.language = language;\r\n      } else {\r\n        language.active = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe.forEach((sb) => sb.unsubscribe());\r\n  }\r\n}\r\n\r\ninterface LanguageFlag {\r\n  lang: string;\r\n  name: string;\r\n  flag: string;\r\n  active?: boolean;\r\n}\r\n\r\nconst languages = [\r\n  {\r\n    lang: 'en',\r\n    name: 'English',\r\n    flag: './assets/media/flags/united-states.svg',\r\n  },\r\n  {\r\n    lang: 'id',\r\n    name: 'Indonesian',\r\n    flag: './assets/media/flags/indonesia.svg',\r\n  },\r\n  // {\r\n  //   lang: 'zh',\r\n  //   name: 'Mandarin',\r\n  //   flag: './assets/media/flags/china.svg',\r\n  // },\r\n  // {\r\n  //   lang: 'ja',\r\n  //   name: 'Japanese',\r\n  //   flag: './assets/media/flags/japan.svg',\r\n  // },\r\n  // {\r\n  //   lang: 'de',\r\n  //   name: 'German',\r\n  //   flag: './assets/media/flags/germany.svg',\r\n  // },\r\n  // {\r\n  //   lang: 'es',\r\n  //   name: 'Spanish',\r\n  //   flag: './assets/media/flags/spain.svg',\r\n  // },\r\n  // {\r\n  //   lang: 'fr',\r\n  //   name: 'French',\r\n  //   flag: './assets/media/flags/france.svg',\r\n  // },\r\n];\r\n","<ng-container *ngIf=\"user$ | async as _user\">\r\n  <div class=\"menu-item px-3\">\r\n    <div class=\"menu-content d-flex align-items-center px-3\">\r\n      <div class=\"symbol symbol-50px me-5\">\r\n        <img alt=\"Logo\" [src]=\"_user.pic\" />\r\n      </div>\r\n\r\n      <div class=\"d-flex flex-column\">\r\n        <div class=\"fw-bolder d-flex align-items-center fs-5\">\r\n          {{ _user.firstname }} {{ _user.lastname }}\r\n        </div>\r\n        <a class=\"fw-bold text-muted text-hover-primary fs-7 cursor-pointer\">\r\n          {{ _user.email }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"separator my-2\"></div>\r\n\r\n  <div class=\"menu-item px-5\">\r\n    <a routerLink=\"/pages/profile\" class=\"menu-link px-5\">\r\n      My Profile\r\n    </a>\r\n  </div>\r\n\r\n  <div\r\n    class=\"menu-item px-5\"\r\n    data-kt-menu-trigger=\"hover\"\r\n    data-kt-menu-placement=\"left-start\"\r\n    data-kt-menu-flip=\"bottom\"\r\n  >\r\n    <a class=\"menu-link px-5 cursor-pointer\">\r\n      <span class=\"menu-title position-relative\">\r\n        Language\r\n        <span\r\n          class=\"\r\n            fs-8\r\n            rounded\r\n            bg-light\r\n            px-3\r\n            py-2\r\n            position-absolute\r\n            translate-middle-y\r\n            top-50\r\n            end-0\r\n          \"\r\n        >\r\n          {{ language.name }}{{ \" \" }}\r\n          <img\r\n            class=\"w-15px h-15px rounded-1 ms-2\"\r\n            [src]=\"language.flag\"\r\n            alt=\"AngularApp\"\r\n          />\r\n        </span>\r\n      </span>\r\n    </a>\r\n\r\n    <div class=\"menu-sub menu-sub-dropdown w-175px py-4\">\r\n      <div\r\n        *ngFor=\"let l of langs\"\r\n        class=\"menu-item px-3 cursor-pointer\"\r\n        (click)=\"selectLanguage(l.lang)\"\r\n      >\r\n        <a\r\n          class=\"menu-link d-flex px-5\"\r\n          [ngClass]=\"l.lang === language.lang ? 'active' : ''\"\r\n        >\r\n          <span class=\"symbol symbol-20px me-4\">\r\n            <img class=\"rounded-1\" [src]=\"l.flag\" alt=\"AngularApp\" />\r\n          </span>\r\n          {{ l.name }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"separator my-2\"></div>\r\n\r\n  <div class=\"menu-item px-5\">\r\n    <a (click)=\"logout()\" class=\"menu-link px-5 cursor-pointer\"> Sign Out </a>\r\n  </div>\r\n</ng-container>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}